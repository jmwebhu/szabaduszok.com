{% extends "Templates/default.twig" %}

{% block content %}

<div class="bloc bgc-anti-flash-white l-bloc tc-black" id="bloc-8">
	<div class="container bloc-lg">
		<div class="row">
			<div class="col-sm-12">
				<form action="{{ formAction }}" method="post" enctype="multipart/form-data">
				
					{% if hasIdInput %}
					<input name="user_id" id="user-id" type="hidden" value="{{ user.user_id }}">
					{% endif %}
                                        
                                        <input name="landing_page_name" type="hidden" value="{{ landingPageName }}">
					
					<h1 class="mg-md text-center tc-black">
						{{ pageTitle }} {{ user.name() }}
					</h1>
					
					<div class="panel">
						<div class="panel-heading">
							<h3 class="mg-clear tc-black">
								Személyes profil
							</h3>
						</div>
						<!-- end panel-heading -->
						
						<div class="panel-body">
							<span class='error-label has-error general-error-label block mb10 text-center'>{{ error }}</span>
							<div class="checkbox">
								<label>
									<input type="checkbox" id="is-company" name="is_company" {% if user.is_company %}checked{% endif %}>Céges?
								</label>							
							</div>
							
							<span class="fa fa-building pull-left icon-sm icon-dark-gray hidden"></span>
							<div class="form-group hidden">
								<label>
									Cégnév*
								</label>
								<input class="form-control" id="company-name" name="company_name" type="text" value="{{ user.company_name }}">
							</div>														
							
							<span class="ion ion-person pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Vezetéknév*
								</label>
								<input class="form-control" id="lastname" name="lastname" type="text" required data-rules='{"notEmpty": "true"}' value="{{ user.lastname }}" autofocus>
							</div>
							
							<span class="ion ion-person pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Keresztnév*
								</label>
								<input class="form-control" id="firstname" name="firstname" type="text" required data-rules='{"notEmpty": "true"}' value="{{ user.firstname }}">
							</div>
							
							<span class="ion ion-email pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									E-mail*
								</label>
								<input class="form-control" id="email" name="email" type="email" required data-rules='{"notEmpty": "true", "email": "true"}' value="{% if user %}{{ user.email }}{% else %}{{ email }}{% endif %}" {% if user.user_id %}disabled{% endif %}>
							</div>
							
							<span class="ion ion-android-phone-portrait pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Telefonszám*
								</label>
								<input class="form-control" id="phonenumber" name="phonenumber" type="tel" required data-rules='{"notEmpty": "true"}' value="{{ user.phonenumber }}">
							</div>
							
							<span class="ion ion-location pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Irányítószám*
								</label>
								<input class="form-control" id="address-postal-code" name="address_postal_code" type="text" placeholder="Számlázási" required data-rules='{"notEmpty": "true", "number": "true"}' value="{{ user.address_postal_code }}">
							</div>
							
							<span class="ion ion-location pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Város*
								</label>								
								<input class="form-control" id="address-city" name="address_city" type="text" placeholder="Számlázási" required data-rules='{"notEmpty": "true"}' value="{{ user.address_city }}">
							</div>
							
							<span class="ion ion-location pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Utca és házszám*
								</label>
								<input class="form-control" id="address-street" name="address_street" type="text" placeholder="Számlázási" required data-rules='{"notEmpty": "true"}' value="{{ user.address_street }}">
							</div>
							
							<span class="ion ion-image pull-left icon-dark-gray icon-sm"></span>
							<div class="form-group">
								<label>
									Profilkép
								</label>
								<input class="form-control" id="profile-picture" name="profile_picture" type="file" accept="image/*">
								{% if hasPicture %}
								<img src="{{ ROOT }}uploads/picture/{{ user.profile_picture_path }}" class="img-rounded mt10" alt="Szabaduszok.com - A magyar freelancer platform {{ user.name() }}">
								{% endif %}
							</div>
						</div>
						<!-- end panel-body szemelyes profil -->
						
					</div>
					<!-- end panel szemelyes profil -->
					
					<div class="panel">
						<div class="panel-heading">
							<h3 class="mg-clear tc-black">
								Szakmai profil
							</h3>
						</div>
						
						<div class="panel-body">
							<span class="ion ion-briefcase pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Iparágak*
								</label>
								<select class="form-control" name="industries[]" id="industries" data-rules='{"notEmptySelect": "true"}' multiple>
								{% for industry in industries %}
								<option value="{{ industry.industry_id }}" {% if industry.industry_id in industryIds %}selected{% endif %}>{{ industry.name }}</option>
								{% endfor %}
								</select>
							</div>
														
							<p class="text-justify">
								Általános iparág, pl.: informatika. Többet is választhatsz.								
							</p>
							
							<span class="ion ion-university pull-left icon-sm icon-dark-gray"></span>
							<div class="form-group">
								<label class="mg-clear">
									Szakterületek
								</label>
								<select id="professions" class="form-control" name="professions[]" multiple="multiple">
	 							{% for profession in user.professions.find_all() %}
								<option value="{{ profession.profession_id }}" selected>{{ profession.name }}</option>
								{% endfor %}
	 							</select>
							</div>
							
							<p class="text-justify">
								Iparágon belüli, szűkebb szakterület, pl.: webfejlesztés. Többet is megadhatsz. Választhatsz meglévőket, vagy hozhatsz létre újakat. Nem kötelező, de kérlek próbáld meg besorolni a tevékenységedet, a jobb keresés érdekében.
							</p>
							
							<span class="ion ion-clipboard icon-sm pull-left icon-dark-gray"></span>
							<div class="form-group">
								<label>
									Rövid szakmai bemutatkozás
								</label>
								<textarea class="form-control" id="short-description" name="short_description" rows="4" cols="50" placeholder="Korábbi tapasztalataid, munkamódszerek stb">{{ user.short_description }}</textarea>
							</div>							
						</div>
						<!-- end panel-body szakmai profil -->
						
					</div>
					<!-- end panel szakmai profil -->
					
					<span class="ion ion-locked pull-left icon-sm icon-dark-gray"></span>
					<div class="form-group">
						<label class="password-label">
							Jelszó*
						</label>
						<input id="password" name="password" type="password" class="form-control" 
						
						{% if hasPasswordRules %}
						required data-rules='{"notEmpty": "true", "longer": {"value": 6}, "sameAs": "#password-confirm"}'
						{% else %}
						data-rules='{"longer": {"value": 6}, "sameAs": "#password-confirm"}'
						{% endif %}	
						>
					</div>
					<p class="text-justify">
						{{ passwordText }}
					</p>
					
					<span class="ion ion-locked pull-left icon-sm icon-dark-gray"></span>
					<div class="form-group">
						<label class="password-label">
							Jelszó mégegyszer*
						</label>
						<input class="form-control" type="password" id="password-confirm" name="password_confirm" {% if hasPasswordRules %}required{% endif %}>
					</div>
					
					{% if hasPrivacyCheckbox %}
					<div class="checkbox">
						<label>
							<input type="checkbox" id="accept-conditions" required checked>Elfogadom az <a href="{{ ROOT }}szabaduszok-adatvedelem" target="_blank">Adatvédelmi nyilatkozatot</a> és a <a href="{{ ROOT }}szabaduszok-felhasznalasi-feltetelek" target="_blank">Felhasználási feltételeket</a>
						</label>							
					</div>
					{% endif %}
								
					{% if hasCancel %}
					<a href="{{ ROOT }}megbizo/{{ user.slug }}" class="btn btn-d btn-lg btn-block btn-gray"><span class="ion ion-android-cancel icon-spacer icon-white"></span>Mégsem</a>
					{% endif %}							 
					<button class="bloc-button btn btn-lg btn-block btn-lime-green" type="submit">
						<span class="ion ion-checkmark icon-spacer icon-white"></span>Rögzít
					</button>
					
					
				</form>			
			</div>
			<!-- end col-sm-12 -->
		</div>
		<!-- end row -->
	</div>
	<!-- end container -->
</div>
<!-- end bloc-8 -->

</form>


			
{% endblock content %}